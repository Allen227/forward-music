(window["webpackJsonpmoment-music"]=window["webpackJsonpmoment-music"]||[]).push([[6],{210:function(t,e,n){},213:function(t,e,n){"use strict";n.r(e);var r=n(49),c=n(29),i=n(104);var o=n(0),u=n.n(o),a=n(30),l=n(42),f=n(47),s=(n(210),[]),m=function(){var t=-1;return function(e){var n,r=0,c=void 0,o=function(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=Object(i.a)(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c,o=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){u=!0,c=t},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw c}}}}(s);try{for(o.s();!(n=o.n()).done;){if(n.value.time.includes(e)){c=r;break}r++}}catch(u){o.e(u)}finally{o.f()}return void 0===c?c=t:t=c,c}}();var v=n(20);e.default=Object(r.b)((function(t){return t}),(function(t){return{fetchLyric:function(e){return t(v.b(e))}}}))((function(t){var e,n=t.fetchLyric,r=t.lyricData,i=t.curSongInfo,v=Object(a.h)(),b=Object(o.useContext)(f.b),y=Object(o.useState)(0),d=Object(c.a)(y,2),h=d[0],p=d[1],j=v.state.id;Object(o.useEffect)((function(){var t=document.querySelector(".lyric-list");t&&h>7&&(t.style.top="-".concat(30*(h-7),"px"))}),[h]),Object(o.useEffect)((function(){j&&n(j)}),[]),Object(o.useEffect)((function(){var t=document.querySelector(".lyric-list");p(0),t.removeAttribute("style")}),[i]),Object(o.useEffect)((function(){s=[];var t="";r&&r.lrc&&(t=r.lrc.lyric),s=function(){var e=t.split("\n"),n=[];return e.map((function(t){(n=t.match(/\[\d{2}:\d{2}.(\d{2}|\d{3})\]/))&&s.push({time:n[0].slice(1,-1),value:t.slice(n[0].length).trim()})})),s}()}));var O=s.map((function(t,n){var r=["lyric-line"];return(e=m(Object(l.a)(1e3*b.value)))!==h&&p(e),h===n&&r.push("active"),u.a.createElement("li",{className:r.join(" "),key:n},t.value)}));return u.a.createElement("div",{className:"song"},u.a.createElement("ul",{className:"lyric-list"},O))}))}}]);
//# sourceMappingURL=6.e1c0b616.chunk.js.map